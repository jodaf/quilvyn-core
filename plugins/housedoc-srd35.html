<!DOCTYPE html>

<html lang="en">

<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <title>Adding House Rules to Quilvyn</title>
  <style>
    img {
      align: left;
    }
  </style>
</head>

<body bgcolor="wheat" background="../Images/parchment.jpg">

<script>
  document.write('<img src="../Images/quilvynlogodrop.png" style="height:75px" alt="Quilvyn"/>');
</script>

<h2>Adding House Rules to Quilvyn's SRD v3.5 Rule Set</h2>

<p>
The SRD35 rule set allows you to add custom items to most of its selections:
companions, weapons, races, and so on. The entry dialog for each type of item
includes fields for all the information particular to that item type. For most
customizations, the values to enter into the dialog can be determined by
looking at similar items from the core rule books.
</p>
On occasions when you need to enter multiple values into a single text box
(e.g., the list of domains for a custom deity), separate the values with
commas. If you need to enter a value that contains a comma into a text box,
put quotes before and after the value.
</p>

<ul>
  <li><a href="#animal-companion">Animal Companions</a></li>
  <li><a href="#armor">Armors</a></li>
  <li><a href="#class">Classes</a></li>
  <li><a href="#deity">Deities</a></li>
  <li><a href="#animal-companion">Familiars</a></li>
  <li><a href="#feat">Feats</a></li>
  <li><a href="#feature">Features</a></li>
  <li><a href="#language">Languages</a></li>
  <li><a href="#class">NPC Classes</a></li>
  <li><a href="#path">Paths</a></li>
  <li><a href="#class">Prestige Classes</a></li>
  <li><a href="#race">Races</a></li>
  <li><a href="#school">School</a></li>
  <li><a href="#armor">Shields</a></li>
  <li><a href="#skill">Skills</a></li>
  <li><a href="#spell">Spells</a></li>
  <li><a href="#weapon">Weapons</a></li>
</ul>

<table width="100%">

<tr><td colspan="2"><hr/></td></tr>
<tr><td>
<a name="animal-companion"><h3>Adding Animal Companions and Familiars</h3></a>
<img src='../Images/hr-familiar.jpg' alt='House Rule Familiar'/>
</td><td>
<p>
Identical information is required for adding an animal companion or familiar.
Along with the creature's basic attributes, Quilvyn displays fields for
entering hit dice, armor class, attack bonus, damage, size, and minimum master
level. Quilvyn expects the damage value to indicate the number and type of
damage dice, optionally followed by a bonus or penalty. For example, an Owlbear
animal companion would have a damage attribute of 1d6+5,1d6+5,1d8+2 (two claws
and a bite); while a Baboon's damage would be 1d6+3. When entering armor class,
attack bonus, and damage, include any bonus or penalty from elements such as
dexterity, natural armor, and strength. Minimum master level is used for
alternative companions that require the character to be of higher level before
they can be selected.
</p><p>
The example shown is taken from the statistics for the monkey from the Monster
Manual. Note that the monkey receives +2 size and +2 dexterity bonuses to armor
class, resulting in an overall AC of 14, and that the monkey's low strength
gives a -4 penalty to damage.
</p>
</td></tr>

<tr><td colspan="2"><hr/></td></tr>
<tr><td>
<a name="armor"><h3>Adding Armors</h3></a>
<img src='../Images/hr-armor.jpg' alt='House Rule Armor'/>
</td><td>
<p>
Identical information is required for adding a custom type of armor or shield.
Quilvyn displays fields for the boost to armor class gained by using the armor
or shield, the item's weight category, the maximum dexterity AC bonus allowed
when using the item, the penalty applied to skills such as Escape Artist, and
the percentage chance of failure when casting arcane spells while using the
item.
</p><p>
The example shown gives the values for a breastplate made from mithral, as
discussed in the Special Materials section of the SRD. Mithral items reduce
the item's weight by 1 category, spell failure chances by 10%, and armor check
penalty by 3 while increasing the maximum dexterity bonus by 2.
</p>
</td></tr>

<tr><td colspan="2"><hr/></td></tr>
<tr><td>
<a name="class"><h3>Adding Classes</h3></a>
<img src='../Images/hr-npc.jpg' alt='House Rule Class'/>
</td><td>
<p>
Identical information is required for adding a custom class, prestige class, or
NPC class. Quilvyn displays fields that allow you to specify optional class
prerequisites, the class hit dice, base attack and save progressions, skill
points per level, class skills and features, any automatic languages known by
characters with the class (e.g, druidic for druids), and information about
class spellcasting.
</p><p>
The base attack entry gives a choice of 1/2 (increases by 1 every 2 levels, as
with the wizard class), 3/4 (increases by 3 every 4 levels, as with clerics),
or 1 (increases by 1 every level, as with fighters). Save entries give a choice
of 1/3 (sometimes referred to as "poor") or 1/2 ("good"). Features that are
acquired after level 1 (for example, the rogue Evasion feature acquired at
level 2) should be preceded by the level and a colon (so, 2:Evasion). For
classes that cast spells, the spell type, spell ability, and spell slots fields
provide places to enter the type of spells (Arcane or Divine), the basic
ability used to calculate spell DCs, and the progression of spell slots
available to the caster. Each item in the spell slot box gives a spell type and
level followed by a colon, then by a semicolon-separated series of
&lt;level&gt;=&lt;count&gt; terms, each of which indicates how many spell slots
the class receives at the given level. For example, the spell slot entry for
the cleric class would include C2:3=1;4=2;6=3;9=4;13=5, indicating that clerics
acquire 1 C2 slot at level 3, 2 at level 4, 3 at level 6, 4 and level 9, and 5
at level 13.
</p><p>
The example shows the entry for the Adept NPC class from the core rules. It has
no prerequisites, d6 hit dice, and 2 skill points per level. Its base attack,
fortitude save, and reflex save progressions are poor and its will save
progression good. Class skills are concentration, craft, handle animal, heal,
all knowledge, all profession, spellcraft, and survival. The only class features
are Weapon Proficiency (Simple) and Summon Familiar, with the latter acquired
at level 2. The Adept casts divine spells with wisdom as the relevant ability.
An Adept receives 3 Adept0 spell slots at level 1 (and no additional Adept0
slots thereafter), 1 Adept 1 spell slot at level 1, increasing to 2 at level 3
and 3 at level 7, and so on.
</p>
</td></tr>

<tr><td colspan="2"><hr/></td></tr>
<tr><td>
<a name="deity"><h3>Adding Deities</h3></a>
</td></tr><tr><td>
<img src='../Images/hr-deity.jpg' alt='House Rule Deity'/>
</td><td>
<p>
When adding a custom deity, Quilvyn displays fields to specify the deity's
alignment, favored weapon or weapons, and domains. Multiple domains entered
in the Domains text box should be separated by commas. Similarly, if the
deity's favored weapon includes multiple weapons (e.g., all flails),
the individual weapons should be listed in the Favored Weapons text box
separated by commas.
</p>
</td></tr>

<tr><td colspan="2"><hr/></td></tr>
<tr><td>
<a name="feat"><h3>Adding Feats</h3></a>
<img src='../Images/hr-feat.jpg' alt='House Rule Feat'/>
</td><td>
<p>
When adding a custom feat, Quilvyn displays fields to note the feat type and
any requirements that must be met to select it. The feat type will typically
be one of General, Item Creation, or Metamagic; you can also include Fighter in
the feat type box to indicate that this feat can be selected as a fighter bonus
feat. Quilvyn allows you to specify two kinds of requirements for a feat. The
Prerequisite box lists any requirements that must be met to select the feat;
Quilvyn generates a validation error if the feat is selected for a character
who does not meet these requirements. The Implies box lists any requirements
that, while not strictly required, make the feat useless if not met. For
example, although the rules don't require a caster level to select it, the
Combat Casting feat from the core rules is likely to be useful only to a spell
caster. Quilvyn will generate a validation warning if the Implies requirements
are not met. When specified, the Prerequisite and Implies fields will normally
contain references to character attributes; see the discussion
<a href="#expr">below</a> for how to include these. The effects of a feat are
entered separately as a feature, as described in the
<a href="#feature">next section</a>.
</p><p>
The example shows the entry for a general feat named Flail Expert that can be
selected as a fighter bonus feat. The Prerequisite box notes that it requires a
baseAttack value of at least 1 and Weapon Proficiency (Martial), and the
Implies box notes that the feat is useless unless the character possesses a
flail.
</p>
</td></tr>

<tr><td colspan="2"><hr/></td></tr>
<tr><td>
<a name="feature"><h3>Adding Features</h3></a>
<img src='../Images/hr-feature.jpg' alt='House Rule Feature'/>
</td><td>
<p>
In Quilvyn, Features describe the effects of feats, classes, and racial
features. When adding a rule for a new Feature, enter the section of the
character sheet (one of attributes, combat, companion, feature, magic, save,
or skill) where the note for the Feature should appear, then enter the
note text. You can enter multiple sections and notes, but the number of
sections entered must equal the number of notes. Feature notes can both
reference and modify character attributes; see the discussion
<a href="#expr">below</a> for how to use this feature.
</p><p>
The example shows the entry for a feature named Glib with a note that appears
in the skill section of the character sheet. It adds 2 to the skill modifiers
of the Bluff and Perform (Oratory) skills.
</p>
</td></tr>

<tr><td colspan="2"><hr/></td></tr>
<tr><td>
<a name="language"><h3>Adding Languages</h3></a>
<img src='../Images/hr-language.jpg' alt='House Rule Language'/>
</td><td>
<p>
Adding a new language requires only specifying the name. Once added, languages
can be added to a character by selecting from the language list and can be
included in the list of languages automatically known by custom races.
</p><p>
The example shows the entry for a language called Scaletongue, used
<a href="#race">below</a> in the example for entering a custom race.
</p>
</td></tr>

<tr><td colspan="2"><hr/></td>
</tr><tr><td>
<a name="path"><h3>Adding Paths</h3></a>
<img src='../Images/hr-path.jpg' alt='House Rule Path'/>
</td><td>
<p>
A <i>path</i> is a choice a character makes, other than class and race, that
provides features and distinguishes from characters with similar basic
characteristics. In the SRD plugin, cleric domains are the most prominent
example of paths. When adding a custom path, Quilvyn displays fields that
allow you to enter the group associated with the path, the level attribute
that tracks the character's level in the path, lists of features provided by
the path, and information about spell slots granted by the path.
</p><p>
The example shown adds another choice, Shadow Domain, to the domains available
to clerics. It provides a single feature, Summon Shadow, at level 1 and
grants no new spell slots.
</p>
</td></tr>

<tr><td colspan="2"><hr/></td>
</tr><tr><td>
<a name="path"><h3>Adding Schools</h3></a>
<img src='../Images/hr-school.jpg' alt='House Rule School'/>
</td><td>
<p>
Adding a custom school of magic typically involves entering only the name,
although Quilvyn also allows you to enter features that are acquired by a
wizard who specializes in the school. Custom schools will normally be paired
with custom spells that fall within the school.
</p>
<p></p>
The example shows the entry for a school named Control that grants no features.
</td></tr>

<tr><td colspan="2"><hr/></td></tr>
<tr><td>
<a name="race"><h3>Adding Races</h3></a>
<img src='../Images/hr-race.jpg' alt='House Rule Race'/>
</td><td>
<p>
When adding a custom race, Quilvyn displays fields that allow you to enter
prerequisites, features, and languages for the race. Although none of the core
races have requirements, Quilvyn provides the prerequisite entry to allow you
to specify a race that has, for example, a minimum strength requirement. Most
races will have fixed features, such as an ability adjustment. Quilvyn also
allows entering selectable features to support variations such as sub-races.
Each feature in these lists will require <a href="#feature">adding a feature</a>
to describe its effects. The languages entry lists the languages that
characters of this race know automatically.
</p><p>
The example shows the entry for the Lizardfolk character race from the Monster
Manual. Features for this race are: Lizardfolk Ability Adjustment (+2
Strength/+2 Constitution/-2 Intelligence); Lizardfolk Skills (+4 Balance, Jump,
and Swim, all of which are class skills); Bonus Feat (+1 General Feat); Scaly
Hide (+5 Armor Class); Lizardfolk Weapons (2 claws and a bite); Hold Breath
(Can hold breath 4 * constitution rds). (Most of these feature names are
invented for this example; the MM simply lists the effects.) Scaletongue is
included with the list of automatic languages to illustrate the use of the
language <a href="#language">added above</a>.
</p>
</td></tr>

<tr><td colspan="2"><hr/></td></tr>
<tr><td>
<a name="skill"><h3>Adding Skills</h3></a>
<img src='../Images/hr-skill.jpg' alt='House Rule Skill'/>
</td><td>
<p>
When adding a custom skill, Quilvyn displays fields that allow you to enter
the skill's key ability, whether the skill can be used untrained, the list of
classes for which the new skill is a class skill, and any synergies that the
skill has with other skills.
</p><p>
The example shows the entry for the Sailing skill, which is related to
intelligence, requires training to use, and is a class skill for several core
classes.
</p>
</td></tr>

<tr><td colspan="2"><hr/></td></tr>
<tr><td>
<a name="spell"><h3>Adding Spells</h3></a>
<img src='../Images/hr-spell.jpg' alt='House Rule Spell'/>
</td><td>
<p>
When adding a custom spell, Quilvyn displays fields that allow you to enter
the spell's school, the list of classes and levels for the spell, the
description of the spell, and whether or not the spell can be placed into a
potion that can be drunk or an oil that can be applied. Spell descriptions can
embed references to character attributes; see the discussion
<a href=#expr>below</a> for how to include these.
</p><p>
The example shows the entry for the transmutation spell <i>Enhance Skill</i>,
which is a level 3 spell for clerics, sorcerers, and wizards. It can be invoked
using an imbibed potion, and the description notes that spell can be cast over
short range and lasts for a number of rounds equal to the caster level.
</p>
</td></tr>

<tr><td colspan="2"><hr/></td></tr>
<tr><td>
<a name="weapon"><h3>Adding Weapons</h3></a>
<img src='../Images/hr-weapon.jpg' alt='House Rule Weapon'/>
</td><td>
<p>
When adding a custom weapon, Quilvyn displays fields that allow you to enter
the weapon's group (Simple, Martial, or Exotic), category (Unarmed, Light,
One-Handed, Two-Handed, or Ranged), damage, critical threat range and
multiplier, and (for ranged weapons) range increment.
</p><p>
The example shows the entry for a boomerang, an exotic ranged weapon with a
40' range increment that inflicts d4 damage, with critical threat and damage
of 19-20/x2.
</p>
</td></tr>
<tr><td colspan="2"><hr/></td></tr>

</table>

<a name="expr"><h2>Using Character Attributes</h2></a>
<p>
There are three places that you might want to use references to character
attributes when adding custom items: prerequisites for custom classes, feats,
and races; embedded in feature notes and spell descriptions; and placement
in feature notes that modify character attributes. Attribute references appear
somewhat differently in each of these contexts.
</p>

<h3>Using attributes in prerequisites</h3>

<p>
In the core rulebook, all prestige classes and many feats have
prerequisites&mdash;attribute values that the character must have to take the
feat or a level in the prestige class. Quilvyn allows you to specify similar
prerequisites when entering a custom class, feat, or race. For example, suppose
that a feat you're entering requires that the character has a dexterity of 13
or higher. You can specify this in Quilvyn by entering this in the Prerequisite
text box when defining the feat:
</p>
<code>dexterity &gt;= 13</code>
<p>
Quilvyn will generate tests for this requirement and will show a validation
error if a character with dexterity of 12 or lower is given this feat. You can
also specify that the character must have a specific feature as part of your
prerequisites. For example, if your custom feat requires that the character
have the Power Attack feature, you can specify it by entering this in the
Prerequisite text box:
</p>
<code>features.Power Attack</code>
<p>
Multiple prerequisites that must all be met can be specified by listing them in
the text box separated by commas:
</p>
<code>dexterity &gt;= 15,features.Point Blank Shot,baseAttack &gt;= 11</code>
<p>
Quilvyn recognizes the usual comparison operators (&lt;, &lt;=, &gt;, &gt;=,
==, !=) in prerequisites, and you can use the OR operator (||) to require that
at least one of a set of prerequisites is satisfied:
</p>
<code>intelligence &gt;= 15 || wisdom &gt;= 15</code>
<p>
When making a comparison to a text value rather than a number, surround the
value with single or double quotes. Quilvyn also supports the pattern matching
operators =~ (matches) and !~ (does not match) with strings. The first of these
two prerequisites requires that the character have a Lawful Good alignment,
while the second allows any good alignment:
</p>

<code>alignment == 'Lawful Good'</code><br/>
<code>alignment =~ 'Good'</code>

<h3>Embedding attributes in features notes and spell descriptions</h3>

<p>
Some feats, many class features, and nearly all spells have effects that vary
based on character attributes. For example: the Spell Mastery feat allows a
wizard prepare a number of spells equal to their intelligence modifier without
referring to their spellbook; an assassin's Death Attack can inflict paralysis
for 1d6 rounds + 1 round per assassin level; and the <i>Acid Splash</i> spell
has a range of 25' + 5'/2 levels.
</p><p>
You can embed references to character attributes in feature notes and spell
descriptions by enclosing them within the characters %{}. Using this ability,
the note for the Spell Mastery feat looks like this:
</p>

<code>May prepare %{intelligenceModifier} spells w/out spellbook</code>

<p>
When Quilvyn displays this note on the character sheet, it first replaces the
reference to the character's intelligenceModifier attribute with its value, so
the note might appear on the sheet as
</p>

<code>May prepare 2 spells w/out spellbook</code>

<p>
Beyond simple references, Quilvyn supports performing calculations with
embedded references. The note for the assassin's Death Attack feature looks
like this:
</p>

<code>Sneak attack after 3 rd of study causes death or paralysis for 1d6+%{levels.Assassin} rd (DC %{10 + levels.Assassin + intelligenceModifier} Fort neg)</code>

<p>
As this note shows, individual notes and descriptions can contain multiple
embedded references and individual references can use multiple attributes.
Within embedded references, Quilvyn supports the usual comparison operators
(&lt;, &lt;=, &gt;, &gt;=, ==, !=), the usual arithmetic operators
(+, -, *, /, unary -), AND (&amp;&amp;), OR (||), pattern matching (=~, !~),
and integer division (//). It also supports the ternary if-then-else operator
(?:) and the operators &lt;? and &gt;?, which return the smaller and larger
of their two operands, respectively. Using these operators, we can define the
note for the barbarian Rage feature as follows, which takes into account the
fact that the larger constitution bonuses of the Greater Rage and Mighty Rage
features extend the duration of the rage:
</p>

<code>+4 Str, +4 Con, +2 Will, -2 AC for %{constitutionModifier + 5 + (features.Greater Rage ? 1 : 0) + (features.Mighty Rage ? 1 : 0)} rd %{1 + levels.Barbarian // 4}/dy</code>

<p>
Within spell descriptions, in addition to the <a href="#attrs">usual character
attributes</a>, Quilvyn makes available the special character attribute lvl.
This varible refers to the caster level appropriate to the specific spell, so
casterLevels.Cleric for the C1 spell <i>Bane</i>, casterLevels.Bard for the B0
spell <i>Dancing Lights</i>, casterLevels.Sorcerer for the S2 spell <i>Arcane
Lock</i>, and so on. Using the lvl attribute allows you to incorporate the
caster level into a spell description that works for multiple classes. The
description of the <i>Enhance Skill</i> spell <a href="#spell">shown above</a>
reads:
</p>

<code>R%{25+lvl//2*5}' Target gains +4 on chosen skill for %{lvl} rd</code>

<p>
When showing this description on the character sheet, Quilvyn will replace the
references to lvl with the character's cleric, sorcerer, or wizard level, as
appropriate. For example, the description the S3 <i>Enhance Skill</i> spell for
a level 7 sorcerer will read:
</p>

<code>R40' Target gains +4 on chosen skill for 7 rd</code>

<h3>Features that modify character attributes</h3>

<p>
Quilvyn automatically generates rules from feature notes that modify simple
character attributes. Given a feature note that reads
</p>

<code>+2 Armor Class</code>

<p>
Quilvyn will automatically generate a rule that adds two to the character's
armor class value, and the note will appear in italics on the character sheet.
For readability, character attributes in feature notes must appear with initial
capital letters and spaces between words, as shown above. Single features can
modify multiple attributes; in these cases, the note should list the individual
modifications separated by slashes:
</p>

<code>+2 Wisdom/-2 Intelligence</code>

<p>
Notes in the save and skill sections can modify save bonuses and skill
modifiers by referencing the save type or skill name directly; the saves. and
skillModifiers. prefixes are not necessary:
</p>

<code>+1 Fortitude</code><br/>
<code>+2 Ride/+2 Handle Animal</code>

<hr style="width: 100%"/>

<p name="attrs">
The table below lists the character attributes that are most likely to be
useful in entering custom feats, features, classes, and races.
</p>

<table style="width:100%"><tr style="text-align:left">
<th>Basic attributes</th>
<th>Identity</th>
<th>Combat</th>
<th>Magic</th>
<th>Skills and features</th>
</tr><tr style="vertical-align:top">
<td>
<ul style="padding-left: 15px; margin-top: 0">
<li>strength</li>
<li>constitution</li>
<li>dexterity</li>
<li>intelligence</li>
<li>wisdom</li>
<li>charisma</li>
<li>strengthModifier</li>
<li>constitutionModifier</li>
<li>dexterityModifier</li>
<li>intelligenceModifier</li>
<li>wisdomModifier</li>
<li>charismaModifier</li>
</ul>
</td><td>
<ul style="padding-left: 15px; margin-top: 0">
<li>alignment</li>
<li>deity</li>
<li>deityAlignment</li>
<li>deityDomains</li>
<li>level</li>
<li>levels.&lt;class&gt;, e.g.,<br/>
  levels.Cleric<br/>
  levels.Fighter</li>
<li>race</li>
</ul>
</td><td>
<ul style="padding-left: 15px; margin-top: 0">
<li>armorClass</li>
<li>baseAttack</li>
<li>hitPoints</li>
<li>meleeAttack</li>
<li>rangedAttack</li>
<li>initiative</li>
<li>save.Fortitude</li>
<li>save.Reflex</li>
<li>save.Will</li>
<li>sneakAttack</li>
<li>speed</li>
<li>turningLevel</li>
<li>weapons.&lt;name&gt;, e.g.,<br/>
  weapons.Longsword</br>
  weapons.Light Crossbow</li>
</ul>
</td><td>
<ul style="padding-left: 15px; margin-top: 0">
<li>casterLevel</li>
<li>casterLevelArcane</li>
<li>casterLevelDivine</li>
<li>casterLevels.&lt;class&gt;, e.g.,<br/>
  casterLevels.Cleric<br/>
  casterLevels.Wizard</li>
<li>spellSlots.&lt;type&gt;, e.g.,<br>
  spellSlots.C0<br/>
  spellSlots.W3</li>
</ul>
</td><td>
<ul style="padding-left: 15px; margin-top: 0">
<li>features.&lt;name&gt;, e.g.<br/>
  features.Dodge<br/>
  features.Precise Shot</li>
<li>languageCount</li>
<li>languages.&lt;name&gt;, e.g.,<br/>
  languages.Abyssal<br/>
  languages.Halfling</li>
<li>skills.&lt;name&gt;, e.g.,<br/>
  skills.Handle Animal<br/>
  skills.Ride</li>
<li>skillModifier.&lt;name&gt;, e.g.,<br/>
  skillModifier.Intimidate<br/>
  skillModifier.Survival</li>
<li>skillPoints</li>
</ul>
</td>
</tr></table>

</body>
</html>
